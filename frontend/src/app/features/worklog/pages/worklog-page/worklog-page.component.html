<section class="worklog-page" *ngIf="state$ | async as state">
  <header class="page-header">
    <div>
      <p class="eyebrow">Team Productivity Console</p>
      <h1>Worklog</h1>
    </div>
    <button class="save-button" type="button" (click)="onSaveDay()" [disabled]="state.loading">
      Save Day
    </button>
  </header>

  <div class="grid">
    <article class="panel">
      <h2>Form</h2>
      <app-activity-form
        [lookups]="state.lookups"
        [loading]="state.loading"
        (startActivity)="onStartActivity($event)"
      />
    </article>

    <article class="panel">
      <h2>Timer / Summary</h2>
      <app-running-timer [startedAt]="state.currentEntry?.startedAt ?? null" />
      <app-day-summary [entries]="state.entries" />
    </article>

    <article class="panel">
      <h2>Table</h2>
      <app-activity-table [entries]="state.entries" />
    </article>
  </div>

  <p class="status" *ngIf="state.loading">Loading data...</p>
  <p class="status error" *ngIf="state.error">{{ state.error }}</p>
</section>
